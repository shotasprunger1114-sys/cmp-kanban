<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CMP Scripts ‚Äî Kanban</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  @keyframes gradientMove {
    0% { background-position: 0% 50%; }
    25% { background-position: 100% 50%; }
    50% { background-position: 100% 100%; }
    75% { background-position: 0% 100%; }
    100% { background-position: 0% 50%; }
  }
  body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: linear-gradient(135deg, #0a0a0a, #1a0a2e, #0d0d0d, #15062b, #0a0a0a, #1e0938); background-size: 400% 400%; animation: gradientMove 20s ease infinite; color: #e0e0e0; padding: 20px; min-height: 100vh; }
  h1 { font-size: 24px; margin-bottom: 4px; color: #fff; }
  .subtitle { color: #888; font-size: 14px; margin-bottom: 24px; }
  .board { display: flex; gap: 16px; overflow-x: auto; padding-bottom: 20px; -webkit-overflow-scrolling: touch; }
  .column { min-width: 280px; max-width: 300px; flex-shrink: 0; background: rgba(20, 16, 30, 0.85); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(100, 60, 180, 0.1); border-radius: 12px; padding: 16px; min-height: 200px; transition: background 0.2s; }
  .column.drag-over { background: rgba(40, 25, 60, 0.9); }
  .column-header { display: flex; align-items: center; gap: 8px; margin-bottom: 14px; padding-bottom: 10px; border-bottom: 2px solid #333; }
  .column-header h2 { font-size: 14px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; }
  .column-header .count { background: #333; color: #aaa; font-size: 12px; padding: 2px 8px; border-radius: 10px; font-weight: 600; min-width: 20px; text-align: center; }
  .col-new .column-header { border-color: #6366f1; }
  .col-new .column-header h2 { color: #818cf8; }
  .col-filmed .column-header { border-color: #f59e0b; }
  .col-filmed .column-header h2 { color: #fbbf24; }
  .col-edited .column-header { border-color: #3b82f6; }
  .col-edited .column-header h2 { color: #60a5fa; }
  .col-posted .column-header { border-color: #10b981; }
  .col-posted .column-header h2 { color: #34d399; }
  .cards { min-height: 60px; }
  .card { background: rgba(30, 25, 40, 0.9); border-radius: 10px; padding: 14px; margin-bottom: 10px; border: 1px solid #333; cursor: grab; transition: transform 0.15s, box-shadow 0.15s, opacity 0.2s; user-select: none; -webkit-user-select: none; touch-action: none; }
  .card:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.4); border-color: #555; }
  .card:active { cursor: grabbing; }
  .card.dragging { opacity: 0.4; transform: scale(0.95); }
  .card-title { font-size: 14px; font-weight: 600; color: #fff; margin-bottom: 6px; line-height: 1.3; }
  .card-meta { display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 8px; }
  .tag { font-size: 11px; padding: 2px 8px; border-radius: 6px; font-weight: 600; }
  .tag-build { background: #2d1f0e; color: #f59e0b; }
  .tag-system { background: #0e2137; color: #3b82f6; }
  .tag-business { background: #1a2e1a; color: #10b981; }
  .tag-hottake { background: #2d0e0e; color: #ef4444; }
  .tag-signature { background: #1f0e2d; color: #a855f7; }
  .card-hook { font-size: 12px; color: #999; line-height: 1.4; font-style: italic; }
  .card-details { font-size: 11px; color: #666; margin-top: 8px; display: flex; justify-content: space-between; align-items: center; }
  .card-expand { font-size: 11px; color: #818cf8; cursor: pointer; font-weight: 600; }
  .card-expand:hover { color: #a5b4fc; }
  .empty { text-align: center; color: #555; font-size: 13px; padding: 30px 10px; font-style: italic; pointer-events: none; }
  .project-filter { display: flex; gap: 8px; margin-bottom: 20px; flex-wrap: wrap; }
  .filter-btn { background: rgba(30, 25, 40, 0.8); border: 1px solid #444; color: #ccc; padding: 6px 14px; border-radius: 8px; font-size: 12px; font-weight: 600; cursor: pointer; transition: all 0.15s; }
  .filter-btn:hover, .filter-btn.active { background: #6366f1; border-color: #6366f1; color: #fff; }
  .stats { display: flex; gap: 12px; margin-bottom: 20px; flex-wrap: wrap; }
  .stat { background: rgba(20, 16, 30, 0.85); padding: 12px 20px; border-radius: 10px; text-align: center; min-width: 80px; }
  .stat-num { font-size: 24px; font-weight: 700; color: #fff; }
  .stat-label { font-size: 11px; color: #888; text-transform: uppercase; letter-spacing: 0.5px; margin-top: 2px; }
  .updated { color: #555; font-size: 11px; text-align: right; margin-top: 16px; }
  .save-indicator { position: fixed; top: 16px; right: 16px; background: #10b981; color: #fff; padding: 8px 16px; border-radius: 8px; font-size: 13px; font-weight: 600; opacity: 0; transition: opacity 0.3s; pointer-events: none; z-index: 100; }
  .save-indicator.show { opacity: 1; }

  /* Modal */
  .modal-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); z-index: 200; justify-content: center; align-items: flex-start; padding: 40px 20px; overflow-y: auto; }
  .modal-overlay.open { display: flex; }
  .modal { background: linear-gradient(145deg, #1a1030, #141020); border: 1px solid rgba(100, 60, 180, 0.25); border-radius: 16px; max-width: 680px; width: 100%; padding: 32px; position: relative; box-shadow: 0 20px 60px rgba(0,0,0,0.6); animation: modalIn 0.25s ease; }
  @keyframes modalIn { from { opacity: 0; transform: translateY(20px) scale(0.97); } to { opacity: 1; transform: none; } }
  .modal-close { position: absolute; top: 16px; right: 20px; font-size: 24px; color: #888; cursor: pointer; background: none; border: none; line-height: 1; }
  .modal-close:hover { color: #fff; }
  .modal-title { font-size: 22px; font-weight: 700; color: #fff; margin-bottom: 4px; }
  .modal-pillar { margin-bottom: 20px; margin-top: 8px; }
  .modal-section { margin-bottom: 20px; }
  .modal-section-title { font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; color: #818cf8; margin-bottom: 8px; display: flex; align-items: center; gap: 6px; }
  .modal-section-content { font-size: 14px; line-height: 1.7; color: #ccc; }
  .script-block { background: rgba(40, 30, 60, 0.5); border-left: 3px solid #6366f1; padding: 14px 16px; border-radius: 0 8px 8px 0; margin-bottom: 10px; }
  .script-label { font-size: 11px; font-weight: 700; color: #818cf8; text-transform: uppercase; margin-bottom: 4px; }
  .script-text { font-size: 14px; color: #e0e0e0; line-height: 1.6; }
  .script-block.rehook { border-left-color: #f59e0b; }
  .script-block.rehook .script-label { color: #fbbf24; }
  .caption-box { background: rgba(40, 30, 60, 0.4); border: 1px solid rgba(100, 60, 180, 0.2); border-radius: 10px; padding: 16px; font-size: 13px; line-height: 1.6; color: #ccc; white-space: pre-wrap; }
  .hashtags { color: #818cf8; font-size: 13px; line-height: 1.8; }
  .visual-item { display: flex; gap: 10px; align-items: flex-start; margin-bottom: 10px; }
  .visual-icon { font-size: 18px; flex-shrink: 0; margin-top: 1px; }
  .visual-text { font-size: 13px; color: #ccc; line-height: 1.5; }
  .modal-meta { display: flex; gap: 16px; flex-wrap: wrap; margin-bottom: 20px; }
  .meta-chip { background: rgba(50, 40, 70, 0.6); padding: 6px 12px; border-radius: 8px; font-size: 12px; color: #aaa; }
  .meta-chip strong { color: #e0e0e0; }
  .copy-btn { background: rgba(99, 102, 241, 0.2); border: 1px solid rgba(99, 102, 241, 0.3); color: #818cf8; padding: 4px 10px; border-radius: 6px; font-size: 11px; cursor: pointer; margin-left: 8px; font-weight: 600; }
  .copy-btn:hover { background: rgba(99, 102, 241, 0.4); }
  .copy-btn.copied { background: rgba(16, 185, 129, 0.3); border-color: rgba(16, 185, 129, 0.4); color: #34d399; }

  @media (max-width: 768px) {
    body { padding: 12px; }
    h1 { font-size: 20px; }
    .board { gap: 12px; }
    .column { min-width: 260px; }
    .stats { gap: 8px; }
    .stat { padding: 10px 14px; min-width: 70px; }
    .stat-num { font-size: 20px; }
    .modal { padding: 20px; margin: 10px; }
    .modal-title { font-size: 18px; }
  }
</style>
</head>
<body>

<div class="save-indicator" id="saveIndicator">‚úì Saved</div>
<div class="modal-overlay" id="modalOverlay" onclick="if(event.target===this)closeModal()">
  <div class="modal" id="modal"></div>
</div>

<h1>üìã CMP Script Pipeline</h1>
<p class="subtitle">@brandingwithshota ‚Äî Drag cards to move ¬∑ Click to view full script</p>

<div class="project-filter">
  <button class="filter-btn active" onclick="filterProject('all', this)">All</button>
  <button class="filter-btn" onclick="filterProject('brandingwithshota', this)">@brandingwithshota</button>
</div>

<div class="stats">
  <div class="stat"><div class="stat-num" id="stat-new">0</div><div class="stat-label">New</div></div>
  <div class="stat"><div class="stat-num" id="stat-filmed">0</div><div class="stat-label">Filmed</div></div>
  <div class="stat"><div class="stat-num" id="stat-edited">0</div><div class="stat-label">In Edit</div></div>
  <div class="stat"><div class="stat-num" id="stat-posted">0</div><div class="stat-label">Posted</div></div>
</div>

<div class="board" id="board"></div>
<div class="updated" id="updatedText"></div>

<script>
const STORAGE_KEY = 'cmp-kanban-state';
const COLUMNS = [
  { id: 'new', label: 'üìù New Scripts', cls: 'col-new' },
  { id: 'filmed', label: 'üé¨ Filmed', cls: 'col-filmed' },
  { id: 'edited', label: '‚úÇÔ∏è In Edit', cls: 'col-edited' },
  { id: 'posted', label: '‚úÖ Posted', cls: 'col-posted' }
];
const PILLAR_TAGS = {
  'Build in Public': { cls: 'tag-build', icon: 'üî®' },
  'The System': { cls: 'tag-system', icon: 'üéØ' },
  'The Business Case': { cls: 'tag-business', icon: 'üí∞' },
  'Hot Takes': { cls: 'tag-hottake', icon: 'üî•' },
  'Signature Series': { cls: 'tag-signature', icon: '‚ú®' }
};

const DEFAULT_SCRIPTS = [
  {
    id: 'b001-01', title: 'Never Paid Myself', project: 'brandingwithshota',
    pillar: 'Build in Public', duration: '45-60s', batch: '001', status: 'new',
    topic: 'Sacrificing personal pay to reinvest everything into building a real asset ‚Äî the journey from $100K to $250K to $1M.',
    hook: "I've built a quarter-million dollar business and I've never paid myself a single dollar.",
    script: [
      { label: 'HOOK', type: 'hook', text: "I've built a quarter-million dollar business and I've never paid myself a single dollar." },
      { label: 'BODY 1', type: 'body', text: "Every dollar that comes in goes right back into the business. Editors, equipment, software, team. And people think I'm crazy for that." },
      { label: 'REHOOK', type: 'rehook', text: "But here's what nobody understands about this decision‚Äî" },
      { label: 'BODY 2', type: 'body', text: "When you pay yourself first, the business starves. When you feed the business first, it grows into something that can pay you forever. I'm not building a paycheck. I'm building an asset. There's a massive difference." },
      { label: 'BODY 3', type: 'body', text: "Year one I made $100K in revenue. Year two, $250K. This year I'm going for a million. And when that machine is built? That's when I eat. Not before." },
      { label: 'OUTRO', type: 'body', text: "If you're building something real, you already know ‚Äî short-term sacrifice, long-term freedom. That's the trade." }
    ],
    value: "Shows the real cost of entrepreneurship that nobody talks about. Makes the audience respect the grind and question whether they have the same discipline.",
    cta: "Would you do the same? Drop a comment üëá",
    caption: "I've built a $250K business and never paid myself a dollar.\n\nNot because I can't.\nBecause I'm building something bigger than a paycheck.\n\nYear 1: $100K revenue\nYear 2: $250K revenue\nYear 3: Going for $1M\n\nEvery dollar goes back in ‚Äî editors, team, systems, growth.\n\nShort-term sacrifice. Long-term freedom.\nThat's the trade.\n\nWould you do the same? üëá",
    hashtags: "#entrepreneurlife #businessowner #socialmediaagency #buildingabusiness #entrepreneurmindset #agencyowner #businessgrowth #hustleculture #sacrificeforgreatness #ceo",
    visuals: [
      { icon: 'üìù', text: 'Open with handwritten note card showing "$250K Revenue / $0 Salary" ‚Äî hold it up to camera for first 2 seconds' },
      { icon: 'üí∞', text: 'Text overlay showing revenue growth: $100K ‚Üí $250K ‚Üí $1M with upward arrow animation' },
      { icon: 'üéØ', text: 'Direct eye contact the entire time ‚Äî this is a personal confession, keep it intimate' },
      { icon: 'üéµ', text: 'Subtle motivational background music ‚Äî something cinematic, low volume' },
      { icon: '‚úÇÔ∏è', text: 'Quick cuts between points to keep pace up ‚Äî no long pauses' }
    ]
  },
  {
    id: 'b001-02', title: '2 Seconds to Hook', project: 'brandingwithshota',
    pillar: 'The System', duration: '50-70s', batch: '001', status: 'new',
    topic: 'Why most people lose viewers in the first 2 seconds and the exact framework to fix it ‚Äî the 2-job hook rule.',
    hook: "Your hook has 2 seconds to work. And I can tell you right now ‚Äî yours isn't working. Here's why.",
    script: [
      { label: 'HOOK', type: 'hook', text: "Your hook has 2 seconds to work. And I can tell you right now ‚Äî yours isn't working. Here's why." },
      { label: 'BODY 1', type: 'body', text: "Most people start their videos like this: 'Hey guys, so today I wanted to talk about...' ‚Äî that's 4 seconds of nothing. The viewer is already gone. They don't know you, they don't care about you yet, and you just wasted the only window you had to make them care." },
      { label: 'REHOOK', type: 'rehook', text: "There's a dead simple fix and it takes 5 seconds to learn‚Äî" },
      { label: 'BODY 2', type: 'body', text: "Every hook does TWO things at once: establishes context AND teases value. Both. In one sentence.\n\nWatch ‚Äî bad hook: 'Today I'm going to share some tips about growing on Instagram.'\n\nGood hook: 'I studied 1,000 viral reels and they all do this one thing.'\n\nSame topic. One tells you what's coming. The other makes you NEED to know what that one thing is." },
      { label: 'BODY 3', type: 'body', text: "Quick test for your hooks. Ask yourself 4 things:\nDoes the visual match what I'm saying?\nIs the value clear in the first sentence?\nIs it obvious what this video is about?\nDoes it open a question they NEED answered?\n\nIf you can't say yes to all four ‚Äî rewrite it." },
      { label: 'OUTRO', type: 'body', text: "Go look at your last 5 videos. Rewatch the first 2 seconds. You'll see exactly where you're losing people." }
    ],
    value: "Teaches a specific, actionable framework (the 2-job rule + 4-question test) that viewers can apply to their own content immediately. High save potential.",
    cta: "Drop your worst hook below and I'll rewrite it üëá",
    caption: "Your hook has 2 seconds. That's it.\n\nAnd most people waste it with \"Hey guys, so today I wanted to...\"\n\nEvery great hook does 2 things at once:\n‚úÖ Establishes context\n‚úÖ Teases value\n\nBad: \"Today I'm sharing tips about Instagram\"\nGood: \"I studied 1,000 viral reels and they all do this ONE thing\"\n\nSame topic. Completely different result.\n\n4-question hook test:\n1. Does the visual match what you're saying?\n2. Is the value clear in the first sentence?\n3. Is it obvious what the video is about?\n4. Does it open a question they NEED answered?\n\nDrop your worst hook below ‚Äî I'll rewrite it for free üëá",
    hashtags: "#contenttips #hookformula #socialmediatips #reelstips #contentcreator #instagramgrowth #scripttips #socialmediamarketing #contentcreation #viralreels",
    visuals: [
      { icon: '‚è±Ô∏è', text: 'Open with bold text overlay: "2 SECONDS" with a ticking timer graphic' },
      { icon: '‚ùå', text: 'When showing the bad hook ‚Äî act it out poorly, bored energy, maybe a red X overlay' },
      { icon: '‚úÖ', text: 'When showing the good hook ‚Äî shift energy up, green checkmark overlay' },
      { icon: 'üìã', text: 'Text overlay the 4-question checklist as you read each one ‚Äî keep them on screen' },
      { icon: '‚úÇÔ∏è', text: 'Split-screen or side-by-side for bad vs good hook comparison' }
    ]
  },
  {
    id: 'b001-03', title: 'The Math on Content', project: 'brandingwithshota',
    pillar: 'The Business Case', duration: '45-60s', batch: '001', status: 'new',
    topic: 'The ROI math that proves social media content is the best investment a service business can make ‚Äî using a landscaper as the example.',
    hook: "How much is one new customer worth to your business? Because I'm about to show you math that'll change how you think about content.",
    script: [
      { label: 'HOOK', type: 'hook', text: "How much is one new customer worth to your business? Because I'm about to show you math that'll change how you think about content." },
      { label: 'BODY 1', type: 'body', text: "Let's say you're a landscaper. Average job is $3,000. You close just 3 new clients from social media in a month. That's $9,000 from people who found you because of a 30-second video." },
      { label: 'REHOOK', type: 'rehook', text: "Now here's the part that breaks people's brains‚Äî" },
      { label: 'BODY 2', type: 'body', text: "The content doesn't go away. That reel you posted in February? It's still getting views in August. Still showing up in search. Still landing in someone's feed who needs a landscaper RIGHT NOW. One piece of content can generate leads for months. Ads stop the second you stop paying." },
      { label: 'BODY 3', type: 'body', text: "You're not paying for content. You're building a sales machine that works while you sleep. 3-4 deals literally pays for 6 months of content. Everything after that is profit." },
      { label: 'OUTRO', type: 'body', text: "If you're a service business and you're not posting ‚Äî you're leaving money on the table every single day." }
    ],
    value: "Makes the abstract concept of 'content marketing' concrete with real dollar amounts. Forces service business owners to see the opportunity cost of NOT posting.",
    cta: "What's one client worth to YOUR business? Comment üëá",
    caption: "Let's do some math.\n\nYou're a landscaper. Average job = $3,000.\nYou close 3 clients from social media = $9,000.\n\nFrom a 30-second video.\n\nBut here's what really breaks people's brains:\n\nThat reel you posted in February? Still getting views in August. Still showing up in search. Still landing in feeds.\n\nContent compounds. Ads die the second you stop paying.\n\n3-4 deals pays for 6 months of content.\nEverything after that? Pure profit.\n\nIf you're a service business not posting ‚Äî you're leaving money on the table every single day.\n\nWhat's one client worth to YOUR business? üëá",
    hashtags: "#servicebusiness #socialmediaROI #contentmarketing #smallbusinesstips #landscaping #businessmath #socialmediaagency #marketingtips #leadgeneration #digitalmarketing",
    visuals: [
      { icon: 'üî¢', text: 'Animated number overlays: $3,000 ‚Üí √ó3 ‚Üí $9,000 ‚Äî make the math visual and satisfying' },
      { icon: 'üìÖ', text: 'Calendar graphic showing Feb ‚Üí Aug with a reel icon still generating views' },
      { icon: 'üìä', text: 'Side-by-side comparison: Content (line going up over time) vs Ads (line dropping to zero)' },
      { icon: 'üíµ', text: 'Text overlay: "3-4 deals = 6 months of content PAID FOR" at the key moment' },
      { icon: 'üéØ', text: 'Confident, direct energy ‚Äî you\'re dropping knowledge, not selling. Let the math do the convincing.' }
    ]
  },
  {
    id: 'b001-04', title: 'Fire Your ChatGPT Agency', project: 'brandingwithshota',
    pillar: 'Hot Takes', duration: '50-65s', batch: '001', status: 'new',
    topic: 'Calling out lazy agencies that use ChatGPT for 100% of their scripting ‚Äî and why that produces generic, forgettable content.',
    hook: "If your social media agency is using ChatGPT to write all your scripts ‚Äî fire them. Today.",
    script: [
      { label: 'HOOK', type: 'hook', text: "If your social media agency is using ChatGPT to write all your scripts ‚Äî fire them. Today." },
      { label: 'BODY 1', type: 'body', text: "I've seen it over and over. Agency charges $3-5K a month, and behind the scenes? They're copy-pasting your brief into ChatGPT, slapping it on a graphic, and calling it strategy. And you're wondering why your content sounds exactly like everyone else's." },
      { label: 'REHOOK', type: 'rehook', text: "Here's the thing nobody in this industry wants to admit‚Äî" },
      { label: 'BODY 2', type: 'body', text: "ChatGPT doesn't know your customers. It doesn't know what makes them stop scrolling. It doesn't know the inside jokes in your industry, the objections your clients have, or the specific thing that makes YOUR business different. It writes generic content because it IS generic." },
      { label: 'BODY 3', type: 'body', text: "A real content team does research. They study your competitors, find what's actually working in your space, pull the patterns, and THEN write scripts with YOUR voice, YOUR stories, YOUR expertise. AI is a tool, not a replacement for thinking." },
      { label: 'OUTRO', type: 'body', text: "If you can't tell the difference between your content and everyone else's in your industry ‚Äî that's your sign." }
    ],
    value: "Validates the frustration business owners feel when their agency produces mediocre content. Positions CMP as the agency that actually does the work.",
    cta: "Has this happened to you? Tell me üëá",
    caption: "If your social media agency uses ChatGPT for ALL your scripts ‚Äî fire them.\n\nI've seen it over and over:\n‚Üí Agency charges $3-5K/month\n‚Üí Copy-pastes your brief into ChatGPT\n‚Üí Slaps it on a graphic\n‚Üí Calls it \"strategy\"\n\nWonder why your content sounds like everyone else's?\n\nChatGPT doesn't know:\n‚ùå Your customers\n‚ùå What makes them stop scrolling\n‚ùå Your industry's inside jokes\n‚ùå The objections your clients have\n‚ùå What makes YOUR business different\n\nA real content team does research first.\nStudies competitors. Finds what works. Pulls patterns.\nTHEN writes scripts in YOUR voice.\n\nAI is a tool, not a replacement for thinking.\n\nHas this happened to you? üëá",
    hashtags: "#socialmediaagency #marketingagency #chatgpt #contentcreation #socialmediatips #agencylife #hotake #businessowner #contentmarketing #digitalmarketing",
    visuals: [
      { icon: 'üò§', text: 'Slightly frustrated/passionate energy ‚Äî not angry, but convicted. Like you\'re telling a friend the truth.' },
      { icon: 'üì±', text: 'Quick cut showing a generic ChatGPT interface when mentioning "copy-pasting into ChatGPT"' },
      { icon: 'üî¥', text: 'Red emphasis text on key phrases: "fire them," "generic content," "replacement for thinking"' },
      { icon: '‚úÖ', text: 'Green text when describing what a real team does ‚Äî visual contrast between bad and good' },
      { icon: 'üéØ', text: 'End with direct eye contact and pause after "that\'s your sign" ‚Äî let it land' }
    ]
  },
  {
    id: 'b001-05', title: 'Script This: Plumber', project: 'brandingwithshota',
    pillar: 'Signature Series', duration: '55-75s', batch: '001', status: 'new',
    topic: 'Live demonstration of writing a viral script for a "boring" business (plumber) in under 60 seconds ‚Äî proving any business can make great content.',
    hook: "Someone told me plumbing is the most boring business to make content for. So I wrote a viral script for a plumber in 60 seconds. Watch this.",
    script: [
      { label: 'HOOK', type: 'hook', text: "Someone told me plumbing is the most boring business to make content for. So I wrote a viral script for a plumber in 60 seconds. Watch this." },
      { label: 'BODY 1', type: 'body', text: "First ‚Äî what does a plumber's ideal customer care about? They don't care about pipe fittings. They care about their basement flooding at 2 AM and nobody picking up the phone. That's the emotion we're scripting to." },
      { label: 'REHOOK', type: 'rehook', text: "So here's the script‚Äî" },
      { label: 'BODY 2 (THE SCRIPT)', type: 'body', text: "Hook: 'Your house is slowly flooding and you don't even know it yet.'\n\nBody: 'See this pipe? Looks fine, right? But behind your wall, there's a slow leak that's been dripping for months. By the time you notice, you're looking at $10,000 in water damage. Here's the one thing you can check right now that takes 30 seconds‚Äî'\n\nAnd then you show them how to check. Free value. They save it. They share it with their spouse. They follow you because now you're the plumber who saved them $10K." },
      { label: 'BODY 3', type: 'body', text: "That took me less than a minute to write. The secret? I didn't start with plumbing. I started with the fear. Every business has a version of this. Find the fear, write to it." },
      { label: 'OUTRO', type: 'body', text: "Drop the most boring business you can think of in the comments. I'll script it." }
    ],
    value: "Proves expertise in real-time by doing the thing live. Creates an interactive loop where viewers comment boring businesses and Shota scripts them ‚Äî unlimited content ideas.",
    cta: "Drop the most boring business you can think of in the comments. I'll script it. üëá",
    caption: "\"Plumbing is too boring for content.\"\n\nChallenge accepted. I wrote a viral script in 60 seconds.\n\nStep 1: What does the customer ACTUALLY care about?\n‚Üí Not pipe fittings\n‚Üí Their basement flooding at 2 AM\n\nStep 2: Script to the fear.\n\nHook: \"Your house is slowly flooding and you don't even know it yet.\"\n\nThat one line makes someone stop scrolling.\n\nThen give them free value ‚Äî show them what to check.\nThey save it. Share it. Follow you.\n\nThe secret: Don't start with the business.\nStart with the fear. Every business has one.\n\nDrop the most boring business you can think of üëá I'll script it.",
    hashtags: "#contentcreation #scripttips #socialmediatips #plumber #boringbusiness #viralcontent #contentcreator #reelsscript #socialmediamarketing #contentideas",
    visuals: [
      { icon: '‚è±Ô∏è', text: 'On-screen timer counting up from 0:00 while you write/deliver the script ‚Äî adds urgency and proves the "60 seconds" claim' },
      { icon: 'üìù', text: 'Whiteboard or notepad visible where you jot down "FEAR: basement flooding at 2AM" ‚Äî show the process' },
      { icon: 'üé≠', text: 'Shift your energy when delivering the plumber script ‚Äî act it out like you\'re the plumber filming it. Voice change, intensity up.' },
      { icon: 'üî•', text: 'Text overlay: "THE SECRET: Start with the fear" when you reveal the lesson' },
      { icon: 'üòÑ', text: 'Playful, slightly cocky energy throughout ‚Äî you\'re showing off a skill and having fun with it' }
    ]
  }
];

let scripts = [];
let currentFilter = 'all';
let draggedId = null;
let touchClone = null;
let touchStartX = 0, touchStartY = 0;
let touchDragging = false;

function loadState() {
  try {
    const saved = localStorage.getItem(STORAGE_KEY);
    if (saved) {
      const parsed = JSON.parse(saved);
      const savedMap = {};
      parsed.scripts.forEach(s => savedMap[s.id] = s);
      scripts = DEFAULT_SCRIPTS.map(d => {
        const s = savedMap[d.id];
        return s ? { ...d, status: s.status } : { ...d };
      });
      parsed.scripts.forEach(s => { if (!scripts.find(x => x.id === s.id)) scripts.push(s); });
    } else {
      scripts = [...DEFAULT_SCRIPTS];
    }
  } catch(e) { scripts = [...DEFAULT_SCRIPTS]; }
}

function saveState() {
  localStorage.setItem(STORAGE_KEY, JSON.stringify({ scripts: scripts.map(s => ({ id: s.id, status: s.status })), lastUpdated: new Date().toISOString() }));
  const el = document.getElementById('saveIndicator');
  el.classList.add('show');
  setTimeout(() => el.classList.remove('show'), 1500);
}

function filterProject(project, btn) {
  currentFilter = project;
  document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  render();
}

function openModal(id) {
  const s = scripts.find(x => x.id === id);
  if (!s) return;
  const tag = PILLAR_TAGS[s.pillar] || { cls: 'tag-system', icon: 'üìå' };
  const modal = document.getElementById('modal');

  const scriptHTML = s.script.map(block => `
    <div class="script-block ${block.type === 'rehook' ? 'rehook' : ''}">
      <div class="script-label">${block.label}</div>
      <div class="script-text">${block.text.replace(/\n/g, '<br>')}</div>
    </div>
  `).join('');

  const visualsHTML = s.visuals.map(v => `
    <div class="visual-item">
      <div class="visual-icon">${v.icon}</div>
      <div class="visual-text">${v.text}</div>
    </div>
  `).join('');

  modal.innerHTML = `
    <button class="modal-close" onclick="closeModal()">‚úï</button>
    <div class="modal-title">${s.title}</div>
    <div class="modal-pillar"><span class="tag ${tag.cls}">${tag.icon} ${s.pillar}</span></div>
    <div class="modal-meta">
      <div class="meta-chip">‚è±Ô∏è <strong>${s.duration}</strong></div>
      <div class="meta-chip">üì¶ Batch <strong>${s.batch}</strong></div>
      <div class="meta-chip">üìÇ <strong>@${s.project}</strong></div>
    </div>

    <div class="modal-section">
      <div class="modal-section-title">üìå Topic</div>
      <div class="modal-section-content">${s.topic}</div>
    </div>

    <div class="modal-section">
      <div class="modal-section-title">üé¨ Full Script</div>
      ${scriptHTML}
    </div>

    <div class="modal-section">
      <div class="modal-section-title">üíé Value Proposition</div>
      <div class="modal-section-content">${s.value}</div>
    </div>

    <div class="modal-section">
      <div class="modal-section-title">üì£ Call to Action</div>
      <div class="modal-section-content" style="color:#818cf8;font-weight:600;">${s.cta}</div>
    </div>

    <div class="modal-section">
      <div class="modal-section-title">üì± Instagram Caption <button class="copy-btn" onclick="copyText(this, 'caption-${s.id}')">Copy</button></div>
      <div class="caption-box" id="caption-${s.id}">${s.caption}</div>
    </div>

    <div class="modal-section">
      <div class="modal-section-title"># Hashtags <button class="copy-btn" onclick="copyText(this, 'tags-${s.id}')">Copy</button></div>
      <div class="hashtags" id="tags-${s.id}">${s.hashtags}</div>
    </div>

    <div class="modal-section">
      <div class="modal-section-title">üé® Visual Hooks & Production Notes</div>
      ${visualsHTML}
    </div>
  `;

  document.getElementById('modalOverlay').classList.add('open');
  document.body.style.overflow = 'hidden';
}

function closeModal() {
  document.getElementById('modalOverlay').classList.remove('open');
  document.body.style.overflow = '';
}

function copyText(btn, elId) {
  const text = document.getElementById(elId).innerText;
  navigator.clipboard.writeText(text).then(() => {
    btn.textContent = 'Copied!';
    btn.classList.add('copied');
    setTimeout(() => { btn.textContent = 'Copy'; btn.classList.remove('copied'); }, 2000);
  });
}

document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });

function moveScript(id, newStatus) {
  const s = scripts.find(x => x.id === id);
  if (s && s.status !== newStatus) { s.status = newStatus; saveState(); render(); }
}

function createCard(script) {
  const tag = PILLAR_TAGS[script.pillar] || { cls: 'tag-system', icon: 'üìå' };
  const card = document.createElement('div');
  card.className = 'card';
  card.draggable = true;
  card.dataset.id = script.id;
  card.innerHTML = `
    <div class="card-title">${script.title}</div>
    <div class="card-meta"><span class="tag ${tag.cls}">${tag.icon} ${script.pillar}</span></div>
    <div class="card-hook">"${script.hook}"</div>
    <div class="card-details"><span>${script.duration}</span><span class="card-expand" data-id="${script.id}">View Script ‚Üí</span></div>
  `;

  // Click to open modal (but not during drag)
  let didDrag = false;
  card.addEventListener('mousedown', () => { didDrag = false; });
  card.addEventListener('mousemove', () => { didDrag = true; });
  card.addEventListener('click', (e) => {
    if (!didDrag && (e.target.classList.contains('card-expand') || e.target.closest('.card-expand'))) {
      openModal(script.id);
    }
  });
  // Also open on tap for the expand button
  card.querySelector('.card-expand').addEventListener('touchend', (e) => {
    if (!touchDragging) { e.preventDefault(); openModal(script.id); }
  });

  // Desktop drag
  card.addEventListener('dragstart', (e) => {
    draggedId = script.id;
    card.classList.add('dragging');
    e.dataTransfer.effectAllowed = 'move';
    e.dataTransfer.setData('text/plain', script.id);
  });
  card.addEventListener('dragend', () => {
    card.classList.remove('dragging');
    draggedId = null;
    document.querySelectorAll('.column').forEach(c => c.classList.remove('drag-over'));
  });

  // Touch drag
  card.addEventListener('touchstart', (e) => {
    const touch = e.touches[0];
    touchStartX = touch.clientX;
    touchStartY = touch.clientY;
    draggedId = script.id;
    touchDragging = false;
  }, { passive: true });

  card.addEventListener('touchmove', (e) => {
    const touch = e.touches[0];
    const dx = Math.abs(touch.clientX - touchStartX);
    const dy = Math.abs(touch.clientY - touchStartY);
    if (!touchDragging && (dx > 10 || dy > 10)) {
      touchDragging = true;
      card.classList.add('dragging');
      touchClone = card.cloneNode(true);
      touchClone.style.cssText = `position:fixed;width:${card.offsetWidth}px;pointer-events:none;z-index:999;opacity:0.85;transform:rotate(2deg) scale(1.03);`;
      document.body.appendChild(touchClone);
    }
    if (touchDragging) {
      e.preventDefault();
      touchClone.style.left = (touch.clientX - card.offsetWidth/2) + 'px';
      touchClone.style.top = (touch.clientY - 30) + 'px';
      document.querySelectorAll('.column').forEach(col => {
        const r = col.getBoundingClientRect();
        col.classList.toggle('drag-over', touch.clientX >= r.left && touch.clientX <= r.right && touch.clientY >= r.top && touch.clientY <= r.bottom);
      });
    }
  }, { passive: false });

  card.addEventListener('touchend', (e) => {
    if (touchDragging && draggedId) {
      const touch = e.changedTouches[0];
      document.querySelectorAll('.column').forEach(col => {
        const r = col.getBoundingClientRect();
        if (touch.clientX >= r.left && touch.clientX <= r.right && touch.clientY >= r.top && touch.clientY <= r.bottom) {
          moveScript(draggedId, col.dataset.status);
        }
        col.classList.remove('drag-over');
      });
    }
    if (touchClone) { touchClone.remove(); touchClone = null; }
    card.classList.remove('dragging');
    setTimeout(() => { touchDragging = false; }, 50);
    draggedId = null;
  });

  return card;
}

function render() {
  const board = document.getElementById('board');
  board.innerHTML = '';
  const filtered = currentFilter === 'all' ? scripts : scripts.filter(s => s.project === currentFilter);

  COLUMNS.forEach(col => {
    const colEl = document.createElement('div');
    colEl.className = `column ${col.cls}`;
    colEl.dataset.status = col.id;
    const colScripts = filtered.filter(s => s.status === col.id);
    colEl.innerHTML = `<div class="column-header"><h2>${col.label}</h2><span class="count">${colScripts.length}</span></div>`;
    const cardsContainer = document.createElement('div');
    cardsContainer.className = 'cards';
    if (colScripts.length === 0) cardsContainer.innerHTML = '<div class="empty">Drag scripts here</div>';
    else colScripts.forEach(s => cardsContainer.appendChild(createCard(s)));
    colEl.appendChild(cardsContainer);

    colEl.addEventListener('dragover', (e) => { e.preventDefault(); e.dataTransfer.dropEffect = 'move'; colEl.classList.add('drag-over'); });
    colEl.addEventListener('dragleave', () => colEl.classList.remove('drag-over'));
    colEl.addEventListener('drop', (e) => {
      e.preventDefault(); colEl.classList.remove('drag-over');
      const id = e.dataTransfer.getData('text/plain');
      if (id) moveScript(id, col.id);
    });
    board.appendChild(colEl);
  });

  COLUMNS.forEach(col => {
    const el = document.getElementById('stat-' + col.id);
    if (el) el.textContent = filtered.filter(s => s.status === col.id).length;
  });
  document.getElementById('updatedText').textContent = 'Last updated: ' + new Date().toLocaleString();
}

loadState();
render();
</script>
</body>
</html>
